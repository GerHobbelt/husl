// Generated by CoffeeScript 1.3.1
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;u=function(a){var b;return b=.055,a>.04045?Math.pow((a+b)/(1+b),2.4):a/12.92},h=[[3.2406,-1.5372,-0.4986],[-0.9689,1.8758,.0415],[.0557,-0.204,1.057]],i=function(a,b){var d,f,g,i,j,m,o,p,q,r,s,t,v,w,x,y,z;f=b/360*2*Math.PI,p=3-k*.75-l*5,q=k*2.25,g=Math.cos(f),o=Math.sin(f),m=200,s=n/e((a+16)/116),y=[0,1,2];for(t=0,w=y.length;t<w;t++){i=y[t],z=[0,1];for(v=0,x=z.length;v<x;v++)j=z[v],r=u(j)*s,d=(l*r-c(h[i],[q,l,p]))/(c(h[i],[g*2.25,o,-g*.75-o*5])-o*r)*13*a,d>0&&(m=Math.min(m,d))}return m},c=function(a,b){var c,d,e,f;d=0;for(c=e=0,f=a.length-1;0<=f?e<=f:e>=f;c=0<=f?++e:--e)d+=a[c]*b[c];return d},q=function(a,b){return h=Math.pow(10,b),Math.round(a*h)/h},v=function(a,b){var c,d,e,f;a=function(){var b,c,e;e=[];for(b=0,c=a.length;b<c;b++)d=a[b],e.push(q(d,3));return e}();for(c=e=0,f=a.length-1;0<=f?e<=f:e>=f;c=0<=f?++e:--e)if(a[c]<b[c][0]||a[c]>b[c][1])return!1;return!0},m=.95047,n=1,o=1.08883,k=4*m/(m+15*n+3*o),l=9*n/(m+15*n+3*o),f=.008856,g=903.3,d=function(a){return a>f?Math.pow(a,1/3):7.787*a+16/116},e=function(a){return Math.pow(a,3)>f?Math.pow(a,3):(116*a-16)/g},a={CIEXYZ:{},CIExyY:{},CIELAB:{},CIELCH:{},CIELUV:{},CIELCHuv:{},LSH:{},sRGB:{},hex:{}},a.CIEXYZ.sRGB=function(a){var b,d,e,f;return h=[[3.2406,-1.5372,-0.4986],[-0.9689,1.8758,.0415],[.0557,-0.204,1.057]],b=function(a){var b;return b=.055,a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055},f=b(c(h[0],a)),e=b(c(h[1],a)),d=b(c(h[2],a)),[f,e,d]},a.sRGB.CIEXYZ=function(a){var b,d,e,f,g,i,j;return f=a[0],e=a[1],d=a[2],u=function(a){var b;return b=.055,a>.04045?Math.pow((a+b)/(1+b),2.4):a/12.92},h=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],b=[u(f),u(e),u(d)],g=c(h[0],b),i=c(h[1],b),j=c(h[2],b),[g,i,j]},a.CIEXYZ.CIExyY=function(a){var b,c,d,e;return c=a[0],d=a[1],e=a[2],b=c+d+e,b===0?[0,0,d]:[c/b,d/b,d]},a.CIExyY.CIEXYZ=function(a){var b,c,d,e,f;return e=a[0],f=a[1],c=a[2],f===0?[0,0,0]:(b=e*c/f,d=(1-e-f)*c/f,[b,c,d])},a.CIEXYZ.CIELAB=function(a){var b,c,e,f,g,h,i,j,k;return g=a[0],h=a[1],i=a[2],b=d(g/m),c=d(h/n),e=d(i/o),f=116*c-16,j=500*(b-c),k=200*(c-e),[f,j,k]},a.CIELAB.CIEXYZ=function(a){var b,c,d,f,g,h,i,j,k;return f=a[0],j=a[1],k=a[2],c=(f+16)/116,d=c-k/200,b=j/500+c,g=m*e(b),h=n*e(c),i=o*e(d),[g,h,i]},a.CIEXYZ.CIELUV=function(a){var b,c,e,f,g,h,i,j;return h=a[0],i=a[1],j=a[2],b=4*h/(h+15*i+3*j),c=9*i/(h+15*i+3*j),e=116*d(i/n)-16,e===0?[0,0,0]:(f=13*e*(b-k),g=13*e*(c-l),[e,f,g])},a.CIELUV.CIEXYZ=function(a){var b,c,d,f,g,h,i,j,m;return f=a[0],g=a[1],h=a[2],f===0?[0,0,0]:(d=e((f+16)/116),b=g/(13*f)+k,c=h/(13*f)+l,j=d*n,i=0-9*j*b/((b-4)*c-b*c),m=(9*j-15*c*j-c*i)/(3*c),[i,j,m])},s=function(a){var b,c,d,e,f,g;return e=a[0],b=a[1],c=a[2],d=Math.pow(Math.pow(b,2)+Math.pow(c,2),.5),g=Math.atan2(c,b),f=g*360/2/Math.PI,f<0&&(f=360+f),[e,d,f]},a.CIELAB.CIELCH=s,a.CIELUV.CIELCHuv=s,j=function(a){var b,c,d,e,f,g;return e=a[0],d=a[1],f=a[2],g=f/360*2*Math.PI,b=Math.cos(g)*d,c=Math.sin(g)*d,[e,b,c]},a.CIELCH.CIELAB=j,a.CIELCHuv.CIELUV=j,a.LSH.CIELCHuv=function(a){var b,c,d,e,f;return d=a[0],e=a[1],f=a[2],b=i(d,f),c=b/100*e,[d,c,f]},a.CIELCHuv.LSH=function(a){var b,c,d,e,f;return d=a[0],c=a[1],f=a[2],b=i(d,f),e=c/b*100,[d,e,f]},r=function(a){var b,c,d,e,f,g,h;a=function(){var b,d,e;e=[];for(b=0,d=a.length;b<d;b++)c=a[b],e.push(q(c,3));return e}();for(d=0,f=a.length;d<f;d++){b=a[d];if(b<0||b>1)throw new Error("Illegal sRGB value")}h=[];for(e=0,g=a.length;e<g;e++)b=a[e],h.push(Math.round(b*255));return h},a.sRGB.hex=function(a){var b,c,d,e;c="#",a=r(a);for(d=0,e=a.length;d<e;d++)b=a[d],b=b.toString(16),b.length===1&&(b="0"+b),c+=b;return c},a.hex.sRGB=function(a){var b,c,d;return a.charAt(0)==="#"&&(a=a.substring(1,7)),d=a.substring(0,2),c=a.substring(2,4),b=a.substring(4,6),[d,c,b].map(function(a){return parseInt(a,16)/255})},b=function(b,c){var d,e,f;return f=[["CIELCH","CIELAB"],["LSH","CIELCHuv"],["CIELCHuv","CIELUV"],["hex","sRGB"],["CIExyY","CIEXYZ"],["CIELAB","CIEXYZ"],["CIELUV","CIEXYZ"],["sRGB","CIEXYZ"]],e=function(b,c,d){var f,g,h,i;return c===d?function(a){return a}:(i=b[0],f=i[0],h=i[1],c===f?(g=e(b.slice(1),h,d),function(b){return g(a[f][h](b))}):d===f?(g=e(b.slice(1),c,h),function(b){return a[h][f](g(b))}):(g=e(b.slice(1),c,d),g))},d=e(f,b,c),d},p={};try{t=require("stylus"),p=function(){var c,d;return d=function(){var b;b=[];for(c in a)c!=="sRGB"&&c!=="hex"&&b.push(c);return b}(),function(a){var c,e,f,g;g=[];for(e=0,f=d.length;e<f;e++)c=d[e],g.push(a.define(c,function(a){return function(c,d,e){var f,g,h,i;return f=b(a,"sRGB"),i=r(f([c.val,d.val,e.val])),h=i[0],g=i[1],d=i[2],new t.nodes.RGBA(h,g,d,1)}}(c)));return g}}}catch(w){}p.converter=b,p.make_color=function(a,c){return{as:function(d){var e;return e=b(a,d)(c),e},is_displayable:function(){var d;return d=b(a,"sRGB")(c),v(d,[[0,1],[0,1],[0,1]])},is_visible:function(){var d;return d=b(a,"CIEXYZ")(c),v(d,[[0,m],[0,n],[0,o]])}}},typeof module!="undefined"&&module!==null&&(module.exports=p),typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.colorspaces=p)}).call(this);